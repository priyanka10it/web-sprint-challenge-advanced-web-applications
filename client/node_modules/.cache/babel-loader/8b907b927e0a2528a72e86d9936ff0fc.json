{"ast":null,"code":"var _jsxFileName = \"C:\\\\Priyanka\\\\Lambda\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { Redirect, Route, BrowserRouter as Router } from 'react-router-dom';\nimport { axiosWithAuth } from './utils/axiosWithAuth';\n\nconst Login = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [login, setLogin] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const handleChange = e => {\n    setLogin({ ...login,\n      [e.target.name]: e.target.value\n    });\n    console.log(login);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().post('/api/login', login).then(res => {\n      console.log(\"Success\", res);\n      window.localStorage.setItem('token', res.data.payload);\n    }).catch(err => {\n      console.log('Something happend!', err);\n    });\n    props.history.push('/BubblePage');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    label: \"username\",\n    placeholder: \"username\",\n    value: login.username,\n    onChange: handleChange,\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    label: \"password\",\n    placeholder: \"password\",\n    value: login.password,\n    onChange: handleChange,\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Login\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Priyanka/Lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","Redirect","Route","BrowserRouter","Router","axiosWithAuth","Login","props","login","setLogin","username","password","handleChange","e","target","name","value","console","log","handleSubmit","preventDefault","post","then","res","window","localStorage","setItem","data","payload","catch","err","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,QAAR,EAAiBC,KAAjB,EAAwBC,aAAa,IAAIC,MAAzC,QAAsD,kBAAtD;AACA,SAAQC,aAAR,QAA4B,uBAA5B;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAiBT,QAAQ,CAAC;AAC9BU,IAAAA,QAAQ,EAAC,EADqB;AAE9BC,IAAAA,QAAQ,EAAC;AAFqB,GAAD,CAA/B;;AAKF,QAAMC,YAAY,GAACC,CAAC,IAAE;AAClBJ,IAAAA,QAAQ,CAAC,EACD,GAAGD,KADF;AAET,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAgBF,CAAC,CAACC,MAAF,CAASE;AAFhB,KAAD,CAAR;AAIJC,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACC,GAND;;AAQA,QAAMW,YAAY,GAACN,CAAC,IAAE;AAClBA,IAAAA,CAAC,CAACO,cAAF;AACAf,IAAAA,aAAa,GACZgB,IADD,CACM,YADN,EACmBb,KADnB,EAGCc,IAHD,CAGMC,GAAG,IAAE;AACPN,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBK,GAAtB;AACAC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAoCH,GAAG,CAACI,IAAJ,CAASC,OAA7C;AACH,KAND,EAOCC,KAPD,CAOOC,GAAG,IAAE;AACRb,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCY,GAAjC;AACH,KATD;AAUAvB,IAAAA,KAAK,CAACwB,OAAN,CAAcC,IAAd,CAAmB,aAAnB;AAEH,GAdD;;AAgBI,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI;AAAM,IAAA,QAAQ,EAAEb,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AACA,IAAA,IAAI,EAAC,UADL;AAEA,IAAA,KAAK,EAAC,UAFN;AAGA,IAAA,WAAW,EAAC,UAHZ;AAIA,IAAA,KAAK,EAAEX,KAAK,CAACE,QAJb;AAKA,IAAA,QAAQ,EAAEE,YALV;AAMA,IAAA,SAAS,EAAC,OANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAUI;AAAO,IAAA,IAAI,EAAC,MAAZ;AACA,IAAA,IAAI,EAAC,UADL;AAEA,IAAA,KAAK,EAAC,UAFN;AAGA,IAAA,WAAW,EAAC,UAHZ;AAIA,IAAA,KAAK,EAAEJ,KAAK,CAACG,QAJb;AAKA,IAAA,QAAQ,EAAEC,YALV;AAMA,IAAA,SAAS,EAAC,OANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,EAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAnBJ,CAFJ,CADJ;AA0BH,CA1DD;;AA4DA,eAAeN,KAAf","sourcesContent":["import React,{useState} from \"react\";\r\nimport {Redirect,Route, BrowserRouter as Router} from 'react-router-dom';\r\nimport {axiosWithAuth} from './utils/axiosWithAuth';\r\n\r\nconst Login = (props) => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [login,setLogin]=useState({\r\n    username:\"\",\r\n    password:\"\"\r\n})\r\n\r\nconst handleChange=e=>{\r\n    setLogin({\r\n            ...login,\r\n    [e.target.name]:e.target.value\r\n})\r\nconsole.log(login)\r\n}\r\n\r\nconst handleSubmit=e=>{\r\n    e.preventDefault();\r\n    axiosWithAuth()\r\n    .post('/api/login',login)\r\n    \r\n    .then(res=>{\r\n        console.log(\"Success\",res);\r\n        window.localStorage.setItem('token',res.data.payload)\r\n    })\r\n    .catch(err=>{\r\n        console.log('Something happend!',err)\r\n    })\r\n    props.history.push('/BubblePage')\r\n    \r\n}\r\n\r\n    return (\r\n        <div>\r\n            <h1>Welcome to the Bubble App!</h1>\r\n            <form onSubmit={handleSubmit}>\r\n                <input type=\"text\"\r\n                name=\"username\"\r\n                label=\"username\"\r\n                placeholder=\"username\"\r\n                value={login.username}\r\n                onChange={handleChange} \r\n                className=\"input\">\r\n                </input>\r\n\r\n                <input type=\"text\"\r\n                name=\"password\"\r\n                label=\"password\"\r\n                placeholder=\"password\"\r\n                value={login.password}\r\n                onChange={handleChange}\r\n                className=\"input\">\r\n                </input>\r\n\r\n                <button>Login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}